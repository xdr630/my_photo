
---

# 个人图床

## 开发背景

之前一直使用有道云的markdown，但是最近，有道云账号密码找不回来了，很多的笔记无法找回，导致我很难受，目前正在联系客服中。。。

于是，经历过这一次的打击，我打算重新整理一下有道云笔记！在整理的过程中，发现，很多markdown中的图片太乱了。

- 有用：有道云的word笔记，把图片复制进去，在分享，在复制图片地址，粘贴到markdown中。
- 有用：sm.ms 这个网站，上传图床的。
- 还有用：github 当做图床的图片。


整体来说，非常乱，打算花时间，把所有的笔记好好整理一下，但是图片的存放是一个问题，存放在别的图床应用上，感觉不安全，其次是，万一这个图床凉了，我的图片也就跟着凉了。
所以，萌生了一个想法：自己做一个属于自己的图床！！

## 开发思路

- 在日常开发中，经常会用到：对象存储。比如阿里云的oss
- 于是，我打算自己用阿里云的oss，搭建一个属于自己的图床。
- 优点：
    - 阿里云oss很便宜，40G的存储，一年只要9快多钱。
    - 开发简单，做一个简单的web网页，太容易了！
    

## 开发过程

### 准备事项

- 首先准备阿里云oss的配置，按照官网自己购买即可。

### 前端js插件的准备


- 然后，因为本人是做服务端出身，对于前端的js一类的了解不多。所以，前端页面是网上找的。
- 在此，感谢：http://www.jq22.com/jquery-info9613 提供的免费插件
- 关于JS插件的使用，很简单，作者给出了非常详细的使用文档。
- 我个人对插件进行了简单修改，满足了我个人的需求。（插件功能很强大，我大概只用到了其中的20%的功能）

### 服务端开发


- 使用springboot创建web项目：这里遇到了很多的问题，因为之前一直都是使用spring，这是第一次用springboot
    - 1.创建springboot项目
    - 2.让springboot可以访问html
 
- springboot的文件上传功能，这个很简单，和spring一样
- 获取到上传的文件之后，上传到oss中，这里就比较简单了。本人提供了一个OssUtils，配置好必要的参数之后，直接调用即可。
- 然后上传成功之后，会在下方展示出图片的连接。可以直接复制到markdown中使用。

## 部署建议

- 将项目达成jar包，直接java -jar xxx.jar 就可以了
- 这也是springboot的优点
- 然后访问：ip:8080/index 即可使用


